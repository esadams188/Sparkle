<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sparkle Social</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" rel="stylesheet">
    <!-- Custom Styles -->
    <link href="src/css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar Placeholder -->
    <div id="navbar-placeholder"></div>

    <!-- Main Content -->
    <div class="container mt-4">
        <div class="row">
            <!-- Left Sidebar -->
            <div class="col-md-3">
                <div class="list-group">
                    <a href="#" class="list-group-item list-group-item-action">
                        <i class="bi bi-house"></i> Home üè†
                    </a>
                    <a href="profile.html" class="list-group-item list-group-item-action" onclick="console.log('Profile link clicked')">
                        <i class="bi bi-person"></i> Profile üë§
                    </a>
                    <a href="#" class="list-group-item list-group-item-action">
                        <i class="bi bi-bell"></i> Notifications üîî
                    </a>
                    <a href="#" class="list-group-item list-group-item-action">
                        <i class="bi bi-envelope"></i> Messages üíå
                    </a>
                </div>
            </div>

            <!-- Main Feed -->
            <div class="col-md-6">
                <div class="card mb-3">
                    <div class="card-body">
                        <h4 class="card-title text-center mb-3">‚ú® What's on your mind? ‚ú®</h4>
                        
                        <!-- Post Editor Toolbar -->
                        <div class="editor-toolbar mb-2">
                            <button class="btn btn-sm btn-outline-primary me-1" data-format="bold">
                                <i class="bi bi-type-bold"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-primary me-1" data-format="italic">
                                <i class="bi bi-type-italic"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-primary me-1" data-format="strike">
                                <i class="bi bi-type-strikethrough"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-primary me-1" data-format="code">
                                <i class="bi bi-code-slash"></i>
                            </button>
                            <button class="btn btn-sm btn-outline-primary me-1" id="gif-button">
                                <i class="bi bi-image"></i> GIF
                            </button>
                            <button class="btn btn-sm btn-outline-primary me-1" id="emoji-button">
                                <i class="bi bi-emoji-smile"></i>
                            </button>
                        </div>

                        <!-- Post Content Area -->
                        <div class="post-content-wrapper mb-2">
                            <textarea id="post-content" class="form-control mb-2" rows="3" 
                                placeholder="Share your sparkly thoughts! üåà"></textarea>
                            
                            <!-- Preview Area -->
                            <div id="post-preview" class="post-preview border rounded p-2 mb-2 d-none">
                            </div>

                            <!-- Selected GIF Preview -->
                            <div id="selected-gif" class="selected-media mb-2 d-none">
                            </div>
                        </div>

                        <!-- GIF Search Modal -->
                        <div class="modal fade" id="gifModal" tabindex="-1">
                            <div class="modal-dialog modal-lg">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title">‚ú® Choose a GIF ‚ú®</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="input-group mb-3">
                                            <input type="text" class="form-control" id="gif-search" 
                                                placeholder="Search for GIFs...">
                                            <button class="btn btn-primary" id="search-gif-btn">
                                                <i class="bi bi-search"></i>
                                            </button>
                                        </div>
                                        <div id="gif-grid" class="gif-grid">
                                            <!-- GIFs will be loaded here -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Emoji Picker Container -->
                        <div id="emoji-picker" class="emoji-picker d-none">
                            <div class="emoji-picker-header">
                                <h5 class="emoji-picker-title">Emojis ‚ú®</h5>
                                <button class="emoji-picker-close">√ó</button>
                            </div>
                            <input type="text" class="emoji-search" placeholder="Search emojis...">
                            <div class="emoji-categories">
                                <button class="emoji-category active" data-category="recent">Recent</button>
                                <button class="emoji-category" data-category="smileys">Smileys</button>
                                <button class="emoji-category" data-category="nature">Nature</button>
                                <button class="emoji-category" data-category="food">Food</button>
                                <button class="emoji-category" data-category="activities">Activities</button>
                                <button class="emoji-category" data-category="objects">Objects</button>
                                <button class="emoji-category" data-category="symbols">Symbols</button>
                            </div>
                            <div class="emoji-grid"></div>
                        </div>

                        <!-- Post Button -->
                        <div class="d-flex justify-content-between align-items-center">
                            <button id="preview-button" class="btn btn-outline-primary">
                                Preview ‚ú®
                            </button>
                            <button id="post-button" class="btn btn-primary">
                                Post Magic! ‚ú®
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Posts Container -->
                <div id="posts-container"></div>
            </div>

            <!-- Right Sidebar -->
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header text-center">
                        üî• Trending Sparkles üåü
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">#TechMagic üßô‚Äç‚ôÄÔ∏è</li>
                        <li class="list-group-item">#AIWonders ü§ñ</li>
                        <li class="list-group-item">#WebSparkle ‚ú®</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Navbar Template -->
    <script type="text/html" id="navbar-template">
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="container">
                <a class="navbar-brand" href="index.html">‚ú® Sparkle Social ‚ú®</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">
                                <i class="bi bi-house"></i> Home üè†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="viewer.html">
                                <i class="bi bi-person"></i> My Profile üë§
                            </a>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto">
                        
                        <li class="nav-item dropdown">
                            <a class="nav-link" href="#" role="button" data-bs-toggle="dropdown">
                                <i class="bi bi-gear"></i> Settings ‚öôÔ∏è
                            </a>
                            <ul class="dropdown-menu dropdown-menu-animated dropdown-menu-end">
                                <li><a class="dropdown-item" href="#"><i class="bi bi-palette"></i> Theme üé®</a></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-bell"></i> Notifications üîî</a></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-shield-check"></i> Privacy üîí</a></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-question-circle"></i> Help üí°</a></li>
                            </ul>
                        </li>
                        <!-- Authentication Links -->
                        <li class="nav-item">
                            <a href="signin.html" class="nav-link">
                                Sign In
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="signup.html" class="nav-link">
                                Sign Up
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </script>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Editor Logic -->
    <script src="src/js/editor.js"></script>
    
    <!-- App Logic -->
    <script src="app.js"></script>
    
    <!-- Global Sign Out Function -->
    <script>
        function handleSignOut() {
            firebase.auth().signOut().then(() => {
                // Sign-out successful.
                window.location.href = 'signin.html';
            }).catch((error) => {
                // An error happened.
                console.error('Sign out error', error);
            });
        }
    </script>
</body>
</html>
